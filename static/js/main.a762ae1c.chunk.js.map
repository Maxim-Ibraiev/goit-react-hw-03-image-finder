{"version":3,"sources":["components/SearchBar/SearchBar.jsx","components/SearchBar/index.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGalleryItem/index.js","components/ImageGallery/ImageGallery.jsx","components/ImageGallery/index.js","components/Modal/index.js","components/Modal/Modal.jsx","components/Button/index.js","components/Button/Button.jsx","service/fetch.js","components/App/App.jsx","index.js"],"names":["SearchBar","onSubmit","className","type","autoComplete","autoFocus","placeholder","name","ImageGalleryItem","webformatURL","onOpenModal","id","tags","onClick","src","alt","ImageGallery","images","map","Modal","handleKeydown","e","code","props","onToggleModal","document","addEventListener","this","removeEventListener","largeImage","color","height","width","largeImageURL","Component","Button","text","onLoadMore","loading","axios","require","key","fetchImages","query","page","get","then","r","data","hits","App","state","querySearch","modalIsOpen","handleSubmit","preventDefault","queryInput","target","value","setState","handleOpenModal","image","find","el","handleToggleModal","prevState","handleFetch","a","addData","handleLoadMore","handleScroll","window","scrollTo","top","documentElement","scrollHeight","behavior","preProps","nextState","length","onCloseModal","handleCloseModal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a762ae1c.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\nexport function SearchBar({ onSubmit }) {\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          name=\"querySearch\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default SearchBar;\r\n","import SearchBar from './SearchBar';\r\n\r\nexport default SearchBar;\r\n","import PropTypes from 'prop-types';\r\n\r\nexport function ImageGalleryItem({ webformatURL, onOpenModal, id, tags }) {\r\n  return (\r\n    <>\r\n      <li className=\"ImageGalleryItem\" onClick={() => onOpenModal(id)}>\r\n        <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n      </li>\r\n    </>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  onOpenModal: PropTypes.func,\r\n  id: PropTypes.number,\r\n  tags: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nexport function ImageGallery({ images, onOpenModal }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ id, webformatURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          id={id}\r\n          webformatURL={webformatURL}\r\n          onOpenModal={onOpenModal}\r\n          tags={tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array,\r\n  onOpenModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import ImageGallery from './ImageGallery';\r\n\r\nexport default ImageGallery;\r\n","import Modal from './Modal';\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport class Modal extends Component {\r\n  static propTypes = {\r\n    largeImage: PropTypes.object,\r\n    onToggleModal: PropTypes.func,\r\n    onCloseModal: PropTypes.func,\r\n  };\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = e => {\r\n    if (e.code === 'Escape') this.props.onToggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { largeImage, onToggleModal } = this.props;\r\n    return (\r\n      <div className=\"Overlay\" onClick={onToggleModal}>\r\n        <Loader\r\n          className=\"loaderPosition\"\r\n          type=\"BallTriangle\"\r\n          color=\"#00BFFF\"\r\n          height={150}\r\n          width={150}\r\n        />\r\n        <div className=\"Modal\">\r\n          <img src={largeImage.largeImageURL} alt={largeImage.tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import Button from './Button';\r\n\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Button({ text = 'Load more', onLoadMore, loading }) {\r\n  return (\r\n    <div className=\"ButtonContainer\">\r\n      {loading ? (\r\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n      ) : (\r\n        <button className=\"Button\" type=\"button\" onClick={onLoadMore}>\r\n          {text}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  text: PropTypes.string,\r\n  onLoadMore: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n};\r\n","const axios = require('axios');\r\n\r\nconst key = '19175032-3cc6a7c5a21d8db9de954fc56';\r\n\r\nfunction fetchImages(query, page = 1) {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(r => r.data.hits);\r\n}\r\n\r\nexport { fetchImages };\r\n","import { Component } from 'react';\nimport SearchBar from '../SearchBar';\nimport ImageGallery from '../ImageGallery';\nimport Modal from '../Modal';\nimport Button from '../Button';\nimport { fetchImages } from '../../service/fetch';\n\nclass App extends Component {\n  state = {\n    images: [],\n    querySearch: '',\n    page: 1,\n    modalIsOpen: false,\n    largeImage: {},\n    loading: false,\n  };\n\n  async componentDidUpdate(preProps, nextState) {\n    const { querySearch, page } = this.state;\n\n    if (nextState.querySearch !== this.state.querySearch) {\n      this.setState({ images: [] });\n      this.handleFetch(querySearch);\n    } else if (nextState.page !== this.state.page) {\n      await this.handleFetch(querySearch, page);\n      this.handleScroll();\n      this.setState({ loading: false });\n    }\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const queryInput = e.target[1].value;\n\n    this.setState({ querySearch: queryInput });\n  };\n\n  handleOpenModal = id => {\n    const image = this.state.images.find(el => el.id === id);\n\n    this.handleToggleModal();\n    this.setState({ largeImage: image });\n  };\n\n  handleToggleModal = () => {\n    this.setState(prevState => ({ modalIsOpen: !prevState.modalIsOpen }));\n  };\n\n  handleFetch = async (query, page) => {\n    const addData = await fetchImages(query, page);\n\n    this.setState(prevState => {\n      const { images } = prevState;\n      const content = [...images, ...addData];\n\n      return { images: content, queryInput: '' };\n    });\n  };\n\n  handleLoadMore = () => {\n    this.setState(prevState => {\n      const nextPage = prevState.page + 1;\n\n      return {\n        page: nextPage,\n        loading: true,\n      };\n    });\n  };\n\n  handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { images, modalIsOpen, largeImage, loading } = this.state;\n\n    return (\n      <div>\n        <SearchBar onSubmit={this.handleSubmit} />\n\n        {images.length > 0 && (\n          <>\n            <ImageGallery\n              images={images}\n              onOpenModal={this.handleOpenModal}\n            ></ImageGallery>\n\n            <Button loading={loading} onLoadMore={this.handleLoadMore} />\n          </>\n        )}\n\n        {modalIsOpen && (\n          <Modal\n            largeImage={largeImage}\n            onToggleModal={this.handleToggleModal}\n            onCloseModal={this.handleCloseModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}